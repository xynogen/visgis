{% extends 'base.html' %}



{% block body%}

<!-- make the edit form -->
<div class="nav-wrap">
  <nav class="navbar navbar-expand-xxl navbar-dark bg-dark navbar-fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand logo-font" href="#">
        Dashboard
      </a>
      <!-- links toggle -->
      <button class="navbar-toggler btn-dark order-first" type="button" data-toggle="collapse" data-target="#links"
        aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fa fa-bars"></i>
      </button>
      <!-- account toggle -->
      <div>
        <button type="button" class="btn btn-dark" disabled>
          <i class="pr-2 fa fa-user"></i> {{user}}
        </button>
        <button class="btn btn-dark" type="button" onclick='location.href="/logout"'>
          <i class="fa fa-sign-out"></i>
        </button>
      </div>


      <div class="collapse navbar-collapse" id="links">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/dashboard">Kondisi Jalan</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/rekapitulasi">Rekapitulasi Panjang</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/biaya">Rencana Biaya Penanganan</a>
          </li>
        </ul>
      </div>

    </div>
  </nav>
</div>

<div class="container-fluid pb-5">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <form class="pb-6" action="/edit" method="POST">
        <div class="form-wrap">
          <input type="hidden" id="index" name="index" value="{{index}}">
          <input type="hidden" id="index" name="ruas" value="{{ruas}}">
          {% set col_count = namespace(value=0) %}
          {% for kolom, data in column_names|zip(row_data) %}
          {% if col_count.value == 11 or col_count.value == 12 or col_count.value == 13 or
            col_count.value == 15 or col_count.value == 16 or col_count.value == 17 or col_count.value == 18 or
          col_count.value == 19 or col_count.value >= 20%}
          <div class="input-group input-group-sm mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text" id="inputGroup-sizing-sm">{{kolom}}</span>
            </div>
            <input name={{kolom}} value="{{data}}" type="text" class="form-control" disabled="true" aria-label="Small"
              aria-describedby="inputGroup-sizing-sm">
          </div>
          {% elif col_count.value == 6 %}
          <div class="input-group input-group-sm mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text" id="inputGroup-sizing-sm">{{kolom}}</span>
            </div>
            <select name={{kolom}} class="custom-select" id="inputGroupSelect01">
              <option {% if data == "ASPAL"%} selected {% endif %} value="ASPAL">ASPAL</option>
              <option {% if data == "BETON"%} selected {% endif %} value="BETON">BETON</option>
              <option {% if data == "TANAH"%} selected {% endif %} value="TANAH">TANAH</option>
            </select>
          </div>
          {% elif col_count.value == 9 %}
          <div class="input-group input-group-sm mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text" id="inputGroup-sizing-sm">{{kolom}}</span>
            </div>
            <select name={{kolom}} class="custom-select" id="inputGroupSelect01">
              <option {% if data == "BAIK"%} selected {% endif %} value="BAIK">BAIK</option>
              <option {% if data == "SEDANG"%} selected {% endif %} value="SEDANG">SEDANG</option>
              <option {% if data == "RUSAK RINGAN"%} selected {% endif %} value="RUSAK RINGAN">RUSAK RINGAN</option>
              <option {% if data == "RUSAK BERAT"%} selected {% endif %} value="RUSAK BERAT">RUSAK BERAT</option>
            </select>
          </div>
          {% elif col_count.value == 10 %}
          <div class="input-group input-group-sm mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text" id="inputGroup-sizing-sm">{{kolom}}</span>
            </div>
            <select name={{kolom}} class="custom-select" id="inputGroupSelect01">
              <option {% if data == "BAIK"%} selected {% endif %} value="BAIK">BAIK</option>
              <option {% if data == "SEDANG"%} selected {% endif %} value="SEDANG">SEDANG</option>
              <option {% if data == "RUSAK RINGAN"%} selected {% endif %} value="RUSAK RINGAN">RUSAK RINGAN</option>
              <option {% if data == "RUSAK BERAT"%} selected {% endif %} value="RUSAK BERAT">RUSAK BERAT</option>
            </select>
          </div>
          {%else %}
          <div class="input-group input-group-sm mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text" id="inputGroup-sizing-sm">{{kolom}}</span>
            </div>
            <input name={{kolom}} value="{{data}}" type="text" class="form-control" aria-label="Small"
              aria-describedby="inputGroup-sizing-sm">
          </div>
          {% endif %}
          {% set col_count.value = col_count.value + 1 %}
          {% endfor %}
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
  </div>
</div>

<style>
  .navbar-fixed-top {
    position: relative;
  }  

  .nav-wrap{
    padding-bottom: 1rem;
  }
</style>
{% endblock %}